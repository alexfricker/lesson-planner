# Lesson Planner

I created this Django Rest Framework/React App to keep track of music lessons I teach on the weekend. All API code exists under the `lesson_planner` folder, and the React frontend code is under `frontend`.

A makefile is included to manage some common dev tasks (create and apply migrations, run a local dev server, etc). To run the local dev server be sure to install npm packages first:

```bash
cd frontend && npm install 
cd .. && make runserver
```

Docker is required to run this application. See [docker documentation](https://docs.docker.com/engine/install/) for details on how to install for your OS.

## CI/CD
Example Gitlab CI file is included [.gitlab-ci.yml](./.gitlab-ci.yml) and builds a multiarch image for deployment to kubernetes.

A basic deployment file for kubernetes is included in the `.kube` directory, additional templates will be added for any other applicable processes as the app develops.

## Nginx
I have set up NGINX as a web server to serve the static files generated by the React App. The configuration for NGINX is located inside of the `.nginx` directory and either serves files from `/usr/share/nginx/html` on the container (all HTML/CSS/Javascript files from React are copied to this directory when the image is built), or directs API requests to port 8000 on the container, which is running the Django application by means of uwsgi. See [Dockerfile](./Dockerfile) for build details, and [run.sh](./run.sh) for the entrypoint commands.

## Setup for Use
After running `make runserver` you can access the app by default on port 5173 (http://localhost:5173). There are links to the Django Admin portal and DRF API in the landing page. By default the username/password to log in to the Admin portal are both `admin`.

Workflow is to add students that you are teaching lessons to first, using `New Student` button. This takes you to a form which will create a student record in the application database. After creating a student, you can select them from the left pane and then add lessons. Student page shows upcoming and previous lessons.

Clicking on a lesson will take you to the lesson notes page, which lets you add notes to the lesson. You can also navigate to the previous or next scheduled lesson from the notes page as well.

** Several dropdown values are hard coded for my particular use case. Eventually these will be refactored to be more customizable but this is still a relatively young application. **

Any planned features that are not currently implemented will show up as disabled buttons. Several CRUD operations have not been fully realized in the React UI and are only available via Django Admin portal (such as editing student information, or deleting students/lessons)

## TODO:
- add debug config for VS code and API
- parametrize kubernetes files
- finish all applicable CRUD ops and retire Django Admin
- make UI fully responsive (some values are still hardcoded)
- finish planned features (disabled buttons)
- add login